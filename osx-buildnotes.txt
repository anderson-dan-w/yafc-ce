Download the lua5.2.1 source, copy the .patch file and apply.
Modify the src/Makefile to include the following 2 lines.  Note the second line must start with a tab
liblua.dylib: $(CORE_O) $(LIB_O)
        $(CC) -dynamiclib -o $@ $^ $(LIBS)
run "make macosx" in the root directory
then run "make -C src liblua.dylib"
This will make liblia.a and liblua.dylib.  move them to Yafc/lib/osx-arm64 with the names liblua52.a and liblua52.dylib
To get the SDL libaries, install brew and then the following brew packages:
SDL2, SDL2_image, SDL2_ttf
copy the following files from /opt/homebrew/lib/ to Yafc/lib/osx-arm64
libSDL2.dylib
libSDL2_image.dylib
libSDL2_tff.dylib

You should be able to follow the above instructions for intel macs, replacing the Yafc/lib/osx-arm64 directory with Yafc/lib/osx

Run build.sh to build.  
Build/OSX-arm64 will contain all of the arm64 files and should run in place.  It will also create a OSX-arm64.tar.gz for distro.


